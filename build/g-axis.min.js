!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("d3")):"function"==typeof define&&define.amd?define(["exports","d3"],t):t(e.gAxis=e.gAxis||{},e.d3)}(this,function(e,t){"use strict";e.xDate=function(){function e(e){function r(e){if(u){console.log("intraday axis");const i=m.domain(),a=m.range();return m=t.scalePoint().domain(i).range(a),{top:t.axisTop(),bottom:t.axisBottom()}[e]}return{top:t.axisTop(),bottom:t.axisBottom()}[e]}const o=r(v);if(u)o.tickSize(y).tickFormat(n(g)).scale(m),o.tickValues(m.domain().filter((e,t)=>{let i;return 0===t?e.getDay():(t>0&&(i=new Date(m.domain()[t-1])),e.getDay()!==i.getDay())}));else{o.tickSize(y).tickFormat(n(g)).scale(m);let e=m.ticks(i(g));const a=m.domain()[0].getDate(),r=m.domain()[0].getMonth();1!==a&&0!==r&&e.unshift(m.domain()[0]),"lustrum"!==g&&"decade"!==g&&"jubilee"!==g&&"century"!==g||e.push(t.timeYear(m.domain()[1])),d&&(e=m.domain()),o.tickValues(e)}const h=r(v);u?h.tickSize(f).tickFormat("").scale(m):h.tickSize(f).ticks(a(g)).tickFormat("").scale(m),l=e.append("g").attr("class","axis xAxis axis baseline").call(o),x&&(c=e.append("g").attr("class",()=>t.select(".chart-plot").node().getBBox().height===y?"axis xAxis":"axis xAxis axis baseline").call(h)),s&&(l.selectAll(".axis.xAxis text").attr("id",`${s}xLabel`),l.selectAll(".axis.xAxis line").attr("id",`${s}xTick`),x&&c.selectAll(".axis.xAxis line").attr("id",`${s}xTick`)),l.selectAll(".domain").remove()}function i(e){return{century:t.timeYear.every(100),jubilee:t.timeYear.every(50),decade:t.timeYear.every(10),lustrum:t.timeYear.every(5),years:t.timeYear.every(1),fiscal:t.timeYear.every(1),quarters:t.timeYear.every(1),months:t.timeMonth.every(1),weeks:t.timeWeek.every(1),days:t.timeDay.every(1),hours:t.timeHour.every(1)}[e]}function a(e){return{century:t.timeYear.every(10),jubilee:t.timeYear.every(10),decade:t.timeYear.every(1),lustrum:t.timeYear.every(1),years:t.timeMonth.every(1),fiscal:t.timeMonth.every(1),quarters:t.timeMonth.every(3),months:t.timeDay.every(1),weeks:t.timeDay.every(1),days:t.timeHour.every(1),hours:t.timeMinute.every(1)}[e]}function n(e){function i(e,t){return 1===e.getHours()||0===t?`${x(e)} ${g(e)}`:x(e)}function a(e,t){return 1===e.getDate()||0===t?`${g(e)} ${m(e)}`:g(e)}function n(e){return e.getDate()<9?`${u(e)} ${m(e)}`:u(e)}function r(e,t){if(e.getMonth()<3&&t<4)return`Q1 ${c(e)}`;if(e.getMonth()<3)return"Q1";if(e.getMonth()>=3&&e.getMonth()<6)return"Q2";if(e.getMonth()>=6&&e.getMonth()<9)return"Q3";if(e.getMonth()>=9&&e.getMonth()<12)return"Q4";throw new Error("Invalid quarter")}function o(e,i){if(0===e.getMonth()||0===i){const i=t.timeFormat("%b %Y");return i(e)}return m(e)}function s(e,t){return h||+c(e)%100==0||0===t?c(e):d(e)}function l(e,t){return h||+c(e)%100==0||0===t?`${c(e)}/${Number(d(e))+1}`:`${d(e)}/${Number(d(e))+1}`}const c=t.timeFormat("%Y"),d=t.timeFormat("%y"),m=t.timeFormat("%b"),u=t.timeFormat("%W"),g=t.timeFormat("%d"),x=t.timeFormat("%H:%M");return{century:t.timeFormat("%Y"),jubilee:(e,t)=>s(e,t),decade:(e,t)=>s(e,t),lustrum:(e,t)=>s(e,t),years:(e,t)=>s(e,t),fiscal:(e,t)=>l(e,t),quarters:(e,t)=>r(e,t),months:(e,t)=>o(e,t),weeks:(e,t)=>n(e),days:(e,t)=>a(e,t),hours:(e,t)=>i(e,t)}[e]}const r=new Date(1970,1,1),o=new Date(2017,6,1);let s,l,c,d,m=t.scaleTime().domain([r,o]).range([0,220]),u=!1,g="lustrum",x=!0,y=10,f=5,h=!1,v="bottom";return e.align=(t=>(v=t,e)),e.endTicks=(t=>void 0===t?d:(d=t,e)),e.frameName=(t=>void 0===t?s:(s=t,e)),e.intraday=(t=>void 0===t?u:(u=t,e)),e.scale=(t=>t?(m=t,e):m),e.domain=(t=>(m.domain(t),e)),e.range=(t=>(m.range(t),e)),e.fullYear=(t=>void 0===t?h:(h=t,e)),e.interval=(t=>(g=t,e)),e.tickSize=(t=>t?(y=t,e):y),e.minorTickSize=(t=>t?(f=t,e):f),e.minorAxis=(t=>void 0===t?x:(x=t,e)),e.xLabel=(t=>void 0===t?l:(l=t,e)),e.xLabelMinor=(t=>void 0===t?c:(c=t,e)),e},e.xLinear=function(){function e(e){return{top:t.axisTop(),bottom:t.axisBottom()}[e]}function i(i){if(c){const e=r.range().reverse();r.range(e)}if(d){const e=t.scaleLog().domain(r.domain()).range(r.range());r=e}const u=e(l).tickSize(o).ticks(s).scale(r);(a=i.append("g").attr("class","axis xAxis").call(u)).selectAll(".tick").filter(e=>0===e||e===m).classed("baseline",!0),n&&(a.selectAll(".axis.xAxis text").attr("id",`${n}xLabel`),a.selectAll(".axis.xAxis line").attr("id",`${n}xTick`)),a.selectAll(".domain").remove()}let a,n,r=t.scaleLinear().domain([0,100]).range([0,220]),o=50,s=5,l="bottom",c=!1,d=!1,m=0;return i.align=(e=>e?(l=e,i):l),i.frameName=(e=>e?(n=e,i):n),i.invert=(e=>void 0===e?c:(c=e,i)),i.scale=(e=>e?(r=e,i):r),i.domain=(e=>(r.domain(e),i)),i.logScale=(e=>void 0===e?d:(d=e,i)),i.range=(e=>(r.range(e),i)),i.tickSize=(e=>void 0===e?o:(o=e,i)),i.xLabel=(e=>void 0===e?a:(a=e,i)),i.numTicks=(e=>void 0===e?s:(s=e,i)),i.xAxisHighlight=(e=>(m=e,i)),i},e.xOrdinal=function(){function e(e){const t=i(r).tickSize(s).scale(o);o.domain.length>1?o.paddingInner(.1):o.paddingInner(.2),a=e.append("g").attr("class","axis xAxis").call(t),n&&(a.selectAll(".axis.xAxis text").attr("id",`${n}xLabel`),a.selectAll(".axis.xAxis line").attr("id",`${n}xTick`)),a.selectAll(".domain").remove()}function i(e){return{top:t.axisTop(),bottom:t.axisBottom()}[e]}let a,n,r="bottom",o=t.scaleBand().domain(["Oranges","Lemons","Apples","Pears"]).rangeRound([0,220]).paddingInner(.1).paddingOuter(.05),s=10;return e.align=(t=>t?(r=t,e):r),e.scale=(t=>t?(o=t,e):o),e.domain=(t=>(o.domain(t),e)),e.frameName=(t=>void 0===t?n:(n=t,e)),e.rangeRound=(t=>(o.rangeRound(t),e)),e.bandwidth=(t=>void 0===t?o.bandwidth():(o.bandwidth(t),e)),e.tickSize=(t=>(s=t,e)),e.paddingInner=(t=>t?(o.paddingInner(t),e):o.paddingInner()),e.paddingOuter=(t=>t?(o.paddingOuter(t),e):o.paddinOuter()),e.xLabel=(t=>void 0===t?a:(a=t,e)),e},e.yLinear=function(){function e(e){if(c){const e=t.scaleLog().domain(r.domain()).range(r.range());r=e}if(s){const e=r.range().reverse();r.range(e)}const g=i(o).ticks(d).scale(r);(a=e.append("g").attr("class","axis yAxis").call(g)).selectAll(".yAxis text").each(function(){l=Math.max(this.getBBox().width,l)}),m<l?a.call(g.tickSize):a.call(g.tickSize(m-l)),"right"===o&&a.selectAll("text").attr("transform",`translate(${l},0)`),n&&(a.selectAll(".axis.yAxis text").attr("id",`${n}yLabel`),a.selectAll(".axis.yAxis line").attr("id",`${n}yTick`)),a.selectAll(".tick").filter(e=>0===e||e===u).classed("baseline",!0),a.selectAll(".domain").remove()}function i(e){return{left:t.axisLeft(),right:t.axisRight()}[e]}let a,n,r=t.scaleLinear().domain([0,1e4]).range([120,0]),o="right",s=!1,l=0,c=!1,d=5,m=300,u=0;return e.align=(t=>t?(o=t,e):o),e.frameName=(t=>t?(n=t,e):n),e.scale=(t=>t?(r=t,e):r),e.domain=(t=>(r.domain(t),e)),e.range=(t=>(r.range(t),e)),e.labelWidth=(t=>t?(l=t,e):l),e.logScale=(t=>void 0===t?c:(c=t,e)),e.tickSize=(t=>t?(m=t,e):m),e.yAxisHighlight=(t=>(u=t,e)),e.numTicks=(t=>(d=t,e)),e.invert=(t=>void 0===t?s:(s=t,e)),e.yLabel=(t=>void 0===t?a:(a=t,e)),e},e.yOrdinal=function(){function e(e){return{left:t.axisLeft(),right:t.axisRight()}[e]}function i(t){const i=e(r).tickSize(l).scale(o);o.domain.length>1?o.paddingInner(.1):o.paddingInner(.2),a=t.append("g").attr("class","axis yAxis").call(i),t.selectAll(".yAxis text").each(function(){s=Math.max(this.getBBox().width,s)}),n&&(a.selectAll(".axis.yAxis text").attr("id",`${n}yLabel`),a.selectAll(".axis.xAxis line").attr("id",`${n}yTick`)),a.selectAll(".domain").remove()}let a,n,r="left",o=t.scaleBand().domain(["Oranges","Lemons","Apples","Pears"]).rangeRound([0,220]).paddingInner(.1).paddingOuter(.05),s=0,l=0,c=0;return i.scale=(e=>e?(o=e,i):o),i.domain=(e=>(o.domain(e),i)),i.frameName=(e=>void 0===e?n:(n=e,i)),i.rangeRound=(e=>(o.rangeRound(e),i)),i.bandwidth=(e=>e?(o.bandwidth(e),i):o.bandwidth()),i.labelWidth=(e=>void 0===e?s:(s=e,i)),i.yLabel=(e=>void 0===e?a:(a=e,i)),i.paddingInner=(e=>e?(o.paddingInner(e),i):o.paddingInner()),i.paddingOuter=(e=>e?(o.paddingOuter(e),i):o.paddingOuter()),i.tickSize=(e=>void 0===e?l:(l=e,i)),i.offset=(e=>void 0===e?c:(c=e,i)),i.align=(e=>e?(r=e,i):r),i},e.yDate=function(){function e(e){function r(e){if(u){console.log("intraday axis");const i=m.domain(),a=m.range();return m=t.scalePoint().domain(i).range(a),{left:t.axisLeft(),right:t.axisRight()}[e]}return{left:t.axisLeft(),right:t.axisRight()}[e]}const o=r(k);if(u)o.tickSize(f).tickFormat(n(g)).scale(m),o.tickValues(m.domain().filter((e,t)=>{let i;return 0===t?e.getDay():(t>0&&(i=new Date(m.domain()[t-1])),e.getDay()!==i.getDay())}));else{o.tickSize(f).tickFormat(n(g)).scale(m);let e=m.ticks(i(g));const a=m.domain()[0].getDate(),r=m.domain()[0].getMonth();1!==a&&0!==r&&e.unshift(m.domain()[0]),"lustrum"!==g&&"decade"!==g&&"jubilee"!==g&&"century"!==g||e.push(t.timeYear(m.domain()[1])),d&&(e=m.domain()),o.tickValues(e)}const v=r(k);u?v.tickSize(h).tickFormat("").scale(m):v.tickSize(h).ticks(a(g)).tickFormat("").scale(m),(l=e.append("g").attr("class","axis yAxis axis baseline").call(o)).selectAll(".yAxis text").each(function(){x=Math.max(this.getBBox().width,x)}),f<x?l.call(o.tickSize):l.call(o.tickSize(f-x)),"right"===k&&l.selectAll("text").attr("transform",`translate(${x},0)`),y&&(c=e.append("g").attr("class",()=>t.select(".chart-plot").node().getBBox().height===f?"axis yAxis":"axis yAxis axis baseline").call(v)),s&&(l.selectAll(".axis.yAxis text").attr("id",`${s}yLabel`),l.selectAll(".axis.yAxis line").attr("id",`${s}xTick`),y&&c.selectAll(".axis.yAxis line").attr("id",`${s}xTick`)),l.selectAll(".domain").remove()}function i(e){return{century:t.timeYear.every(100),jubilee:t.timeYear.every(50),decade:t.timeYear.every(10),lustrum:t.timeYear.every(5),years:t.timeYear.every(1),fiscal:t.timeYear.every(1),quarters:t.timeYear.every(1),months:t.timeMonth.every(1),weeks:t.timeWeek.every(1),days:t.timeDay.every(1),hours:t.timeHour.every(1)}[e]}function a(e){return{century:t.timeYear.every(10),jubilee:t.timeYear.every(10),decade:t.timeYear.every(1),lustrum:t.timeYear.every(1),years:t.timeMonth.every(1),fiscal:t.timeMonth.every(1),quarters:t.timeMonth.every(3),months:t.timeDay.every(1),weeks:t.timeDay.every(1),days:t.timeHour.every(1),hours:t.timeMinute.every(1)}[e]}function n(e){function i(e,t){return 1===e.getHours()||0===t?`${x(e)} ${g(e)}`:x(e)}function a(e,t){return 1===e.getDate()||0===t?`${g(e)} ${m(e)}`:g(e)}function n(e){return e.getDate()<9?`${u(e)} ${m(e)}`:u(e)}function r(e,t){if(e.getMonth()<3&&t<4)return`Q1 ${c(e)}`;if(e.getMonth()<3)return"Q1";if(e.getMonth()>=3&&e.getMonth()<6)return"Q2";if(e.getMonth()>=6&&e.getMonth()<9)return"Q3";if(e.getMonth()>=9&&e.getMonth()<12)return"Q4";throw new Error("Invalid quarter")}function o(e,i){if(0===e.getMonth()||0===i){const i=t.timeFormat("%b %Y");return i(e)}return m(e)}function s(e,t){return v||+c(e)%100==0||0===t?c(e):d(e)}function l(e,t){return v||+c(e)%100==0||0===t?`${c(e)}/${Number(d(e))+1}`:`${d(e)}/${Number(d(e))+1}`}const c=t.timeFormat("%Y"),d=t.timeFormat("%y"),m=t.timeFormat("%b"),u=t.timeFormat("%W"),g=t.timeFormat("%d"),x=t.timeFormat("%H:%M");return{century:t.timeFormat("%Y"),jubilee:(e,t)=>s(e,t),decade:(e,t)=>s(e,t),lustrum:(e,t)=>s(e,t),years:(e,t)=>s(e,t),fiscal:(e,t)=>l(e,t),quarters:(e,t)=>r(e,t),months:(e,t)=>o(e,t),weeks:(e,t)=>n(e),days:(e,t)=>a(e,t),hours:(e,t)=>i(e,t)}[e]}const r=new Date(1970,1,1),o=new Date(2017,6,1);let s,l,c,d,m=t.scaleTime().domain([r,o]).range([0,220]),u=!1,g="lustrum",x=0,y=!0,f=10,h=5,v=!1,k="left";return e.align=(t=>(k=t,e)),e.endTicks=(t=>void 0===t?d:(d=t,e)),e.frameName=(t=>void 0===t?s:(s=t,e)),e.intraday=(t=>void 0===t?u:(u=t,e)),e.labelWidth=(t=>t?(x=t,e):x),e.scale=(t=>t?(m=t,e):m),e.domain=(t=>(m.domain(t),e)),e.range=(t=>(m.range(t),e)),e.fullYear=(t=>void 0===t?v:(v=t,e)),e.interval=(t=>(g=t,e)),e.tickSize=(t=>t?(f=t,e):f),e.minorTickSize=(t=>t?(h=t,e):h),e.minorAxis=(t=>void 0===t?y:(y=t,e)),e.yLabel=(t=>void 0===t?l:(l=t,e)),e.yLabelMinor=(t=>void 0===t?c:(c=t,e)),e},Object.defineProperty(e,"__esModule",{value:!0})});